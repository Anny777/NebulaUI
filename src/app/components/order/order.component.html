<div *ngIf="view" class="divBlock">
  <h2 class="header">Заказ для стола: {{table.number}}</h2>
  <div *ngIf="isOrdersLoading$ | async" class="center" style="width: 100px;">
    <mat-spinner></mat-spinner>
  </div>
  <table *ngIf="!(isOrdersLoading$ | async)" class="striped">
    <tr *ngFor="let dish of groupById()">
      <td>
        {{dish.key.Name}}
      </td>
      <td><textarea></textarea></td>
      <td style="width: 100px;">
        {{dish.key.Price * dish.value.length}} руб.
      </td>
      <td style="width: 100px;">
        <div style="cursor:pointer;" class="divIcon">
          <mat-icon (click)="change(false, dish)">remove</mat-icon>
        </div>
        <div class="divIcon"> {{dishValue.value.length}} </div>
        <div style="cursor:pointer;" class="divIcon">
          <mat-icon (click)="change(true, dish)">add</mat-icon>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        <strong>ИТОГО: </strong>
      </td>
      <td><strong>{{getTotal()}} руб. </strong></td>
      <td *ngIf="!isLoading"><button mat-raised-button color="warn" (click)="sendOrder()">Заказать</button></td>
      <td *ngIf="!isLoading"><button mat-raised-button color="warn" (click)="clearOrder()">Отменить</button></td>
      <td *ngIf="isLoading">
        <mat-spinner [diameter]="50"></mat-spinner>
      </td>
    </tr>

  </table>
</div>
